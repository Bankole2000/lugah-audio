(function(e){function t(t){for(var o,n,i=t[0],c=t[1],l=t[2],u=0,p=[];u<i.length;u++)n=i[u],Object.prototype.hasOwnProperty.call(s,n)&&s[n]&&p.push(s[n][0]),s[n]=0;for(o in c)Object.prototype.hasOwnProperty.call(c,o)&&(e[o]=c[o]);d&&d(t);while(p.length)p.shift()();return a.push.apply(a,l||[]),r()}function r(){for(var e,t=0;t<a.length;t++){for(var r=a[t],o=!0,n=1;n<r.length;n++){var c=r[n];0!==s[c]&&(o=!1)}o&&(a.splice(t--,1),e=i(i.s=r[0]))}return e}var o={},s={app:0},a=[];function n(e){return i.p+"js/"+({about:"about"}[e]||e)+"."+{about:"bb8af443"}[e]+".js"}function i(t){if(o[t])return o[t].exports;var r=o[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.e=function(e){var t=[],r=s[e];if(0!==r)if(r)t.push(r[2]);else{var o=new Promise((function(t,o){r=s[e]=[t,o]}));t.push(r[2]=o);var a,c=document.createElement("script");c.charset="utf-8",c.timeout=120,i.nc&&c.setAttribute("nonce",i.nc),c.src=n(e);var l=new Error;a=function(t){c.onerror=c.onload=null,clearTimeout(u);var r=s[e];if(0!==r){if(r){var o=t&&("load"===t.type?"missing":t.type),a=t&&t.target&&t.target.src;l.message="Loading chunk "+e+" failed.\n("+o+": "+a+")",l.name="ChunkLoadError",l.type=o,l.request=a,r[1](l)}s[e]=void 0}};var u=setTimeout((function(){a({type:"timeout",target:c})}),12e4);c.onerror=c.onload=a,document.head.appendChild(c)}return Promise.all(t)},i.m=e,i.c=o,i.d=function(e,t,r){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)i.d(r,o,function(t){return e[t]}.bind(null,o));return r},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/lugah-audio/",i.oe=function(e){throw console.error(e),e};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],l=c.push.bind(c);c.push=t,c=c.slice();for(var u=0;u<c.length;u++)t(c[u]);var d=l;a.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"034b":function(e,t,r){},"08bc":function(e,t,r){"use strict";r("2f0d")},"2f0d":function(e,t,r){},"56d7":function(e,t,r){"use strict";r.r(t);r("e260"),r("e6cf"),r("cca6"),r("a79d");var o=r("2b0e"),s=r("bc3a"),a=r.n(s),n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-app",[r("v-app-bar",{attrs:{app:"",color:"primary","elevate-on-scroll":"",dark:""}},[r("v-container",[r("div",{staticClass:"d-flex align-center",staticStyle:{width:"100%"}},[r("div",{staticClass:"d-flex align-center"},[r("p",{staticClass:"headline mb-0 white--text",on:{click:function(t){return e.$router.push({name:"Home"})}}},[e._v(" Lugah "),e.$vuetify.breakpoint.mdAndUp?r("span",[e._v("Recordings")]):e._e()])]),r("v-spacer"),"Home"===e.$route.name&&e.isAdminUser?r("v-btn",{attrs:{icon:!e.$vuetify.breakpoint.mdAndUp},on:{click:function(t){return e.$router.push({name:"pages.admin"})}}},[r("v-icon",{attrs:{left:e.$vuetify.breakpoint.mdAndUp}},[e._v("mdi-badge-account")]),e.$vuetify.breakpoint.mdAndUp?r("span",[e._v(" Admin ")]):e._e()],1):e._e(),"Home"!==e.$route.name?r("v-btn",{attrs:{icon:!e.$vuetify.breakpoint.mdAndUp},on:{click:function(t){return e.$router.push({name:"Home"})}}},[r("v-icon",{attrs:{left:e.$vuetify.breakpoint.mdAndUp}},[e._v("mdi-home")]),e.$vuetify.breakpoint.mdAndUp?r("span",[e._v(" Home ")]):e._e()],1):e._e(),"Home"===e.$route.name?r("v-btn",{staticClass:"secondary white--text text-capitalize mx-2",attrs:{icon:!e.$vuetify.breakpoint.mdAndUp},on:{click:e.logoutUser}},[r("v-icon",{attrs:{left:e.$vuetify.breakpoint.mdAndUp}},[e._v("mdi-power")]),e.$vuetify.breakpoint.mdAndUp?r("span",[e._v(" Logout ")]):e._e()],1):e._e(),"Home"===e.$route.name?r("v-btn",{attrs:{icon:!e.$vuetify.breakpoint.mdAndUp,text:""},on:{click:function(t){return e.showLoginModal({show:!0})}}},[r("v-icon",{attrs:{left:e.$vuetify.breakpoint.mdAndUp}},[e._v("mdi-account-arrow-left")]),e.$vuetify.breakpoint.mdAndUp?r("span",{staticClass:"mr-2 text-capitalize"},[e._v("Login as a different User")]):e._e()],1):e._e()],1)])],1),r("v-main",[r("transition",{attrs:{name:"router-anim"}},[r("router-view")],1)],1),r("Snackbar"),r("GlobalLoader")],1)},i=[],c=r("5530"),l=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"global-loader"},[r("v-dialog",{attrs:{"overlay-color":"none",persistent:"",width:"300"},model:{value:e.loader.show,callback:function(t){e.$set(e.loader,"show",t)},expression:"loader.show"}},[r("v-card",{staticStyle:{"border-radius":"15px"},attrs:{color:e.loader.color,dark:""}},[r("v-card-text",[r("div",{staticClass:"d-flex"},[r("p",{staticClass:"pt-2 mb-0"},[e._v(e._s(e.loader.message))]),r("v-spacer")],1),r("v-progress-linear",{staticClass:"mb-0",attrs:{indeterminate:"",color:"white"}})],1)],1)],1)],1)},u=[],d=r("2f62"),p={computed:Object(c["a"])({},Object(d["c"])({loader:"ui/loader"})),methods:Object(c["a"])({},Object(d["b"])({showLoader:"ui/showGlobalLoader"}))},m=p,f=r("2877"),g=Object(f["a"])(m,l,u,!1,null,null,null),v=g.exports,h=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-snackbar",{attrs:{rounded:"lg",value:e.toast.show,bottom:!0,left:e.$vuetify.breakpoint.mdAndUp,centered:e.$vuetify.breakpoint.smAndDown,timeout:e.toast.timeout},scopedSlots:e._u([{key:"action",fn:function(t){var o=t.attrs;return[r("v-btn",e._b({staticClass:"text-capitalize",attrs:{dark:"",text:"",color:e.toast.sclass},on:{click:function(t){return e.showToast({show:!1})}}},"v-btn",o,!1),[r("v-icon",{attrs:{left:""}},[e._v(e._s(e.toast.icon))]),e._v(" Close ")],1)]}}])},[r("span",{class:e.toast.sclass+"--text text-capitalize font-weight-bold"},[e._v(e._s(e.toast.sclass)+": Â ")]),r("span",{domProps:{innerHTML:e._s(e.toast.message)}})])},b=[],w={data:function(){return{}},computed:Object(c["a"])({},Object(d["c"])({toast:"ui/toast"})),methods:Object(c["a"])({},Object(d["b"])({showToast:"ui/showToast"})),updated:function(){var e=this,t=this.toast,r=t.timeout,o=t.show;o&&setTimeout((function(){e.showToast({show:!1})}),r)}},k=w,x=Object(f["a"])(k,h,b,!1,null,null,null),y=x.exports,U={components:{Snackbar:y,GlobalLoader:v},name:"App",data:function(){return{}},computed:Object(c["a"])({},Object(d["c"])({isAdminUser:"users/isAdminUser"})),methods:Object(c["a"])(Object(c["a"])({},Object(d["b"])({logout:"users/logout",showLoginModal:"ui/showLoginModal"})),{},{logoutUser:function(){this.logout(),this.showLoginModal({show:!0})}})},_=U,R=(r("08bc"),Object(f["a"])(_,n,i,!1,null,"a44da9ee",null)),O=R.exports,j=(r("d3b7"),r("3ca3"),r("ddb0"),r("8c4f")),L=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"home"},[r("SoundRecorder",{key:e.componentKey}),r("LoginModal",{on:{loginSuccess:function(t){e.componentKey++}}})],1)},T=[],A=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"login-modal"},[r("v-dialog",{attrs:{fullscreen:!e.$vuetify.breakpoint.mdAndUp,persistent:"",scrollable:"",width:"500"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[r("v-card",{attrs:{height:"580"}},[r("v-card-title",{staticClass:"headline primary white--text"},[e._v(" Who will be recording today? ")]),r("v-card-text",{staticClass:"pa-0"},[r("v-tabs",{attrs:{"fixed-tabs":""},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[r("v-tab",[e._v("Login (Previous User)")]),r("v-tab",[e._v("Register (New User)")])],1),r("v-tabs-items",{model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[r("v-tab-item",{attrs:{value:0}},[r("v-card",{attrs:{flat:""}},[r("div",{staticClass:"px-4 pt-4"},[r("v-text-field",{attrs:{outlined:"",clearable:"","hide-details":"",autocomplete:"off",autofill:"off",placeholder:"Search by full name or email",label:"Search Users",type:"text","prepend-inner-icon":"mdi-magnify"},model:{value:e.filterText,callback:function(t){e.filterText=t},expression:"filterText"}})],1),r("UserList",{attrs:{filteredUsers:e.filteredUsers},on:{loginSuccess:e.loginSuccess}})],1)],1),r("v-tab-item",{attrs:{value:1}},[r("v-card",{attrs:{flat:""}},[r("v-card-text",[r("RegisterForm",{on:{registrationSuccess:e.registrationSuccessful}})],1)],1)],1)],1)],1),r("v-divider"),r("v-card-actions",[r("v-spacer"),r("v-btn",{attrs:{color:"primary",text:""},on:{click:e.goAdminPage}},[e._v(" Admin ")])],1)],1)],1)],1)},C=[],$=r("1da1"),P=(r("96cf"),r("4de4"),r("caad"),r("2532"),function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"login-form"},[r("v-form",{ref:"form"},[r("v-container",[r("v-row",[r("v-col",{staticClass:"py-0",attrs:{cols:"12"}},[r("v-slide-y-transition",{staticClass:"py-0",attrs:{"leave-absolute":"",group:""}},e._l(e.errors,(function(t,o){return r("v-alert",{key:o+1,staticClass:"text-left",staticStyle:{"border-radius":"15px"},attrs:{text:"",type:"error",dense:""}},[e._v(e._s(t))])})),1)],1),r("v-col",{attrs:{cols:"12"}},[r("v-text-field",{attrs:{outlined:"",disabled:e.loading,label:"Full Name",placeholder:"e.g. John Doe",rules:[e.rules.required]},model:{value:e.fullname,callback:function(t){e.fullname=t},expression:"fullname"}}),r("v-text-field",{attrs:{outlined:"",disabled:e.loading,label:"Email",placeholder:"e.g. your@email.com",rules:[e.rules.required]},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}}),r("v-text-field",{attrs:{outlined:"",disabled:e.loading,label:"Password",rules:[e.rules.required],type:e.showPassword1?"text":"password","append-icon":e.showPassword1?"mdi-eye ":"mdi-eye-off"},on:{"click:append":function(t){e.showPassword1=!e.showPassword1}},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),r("v-text-field",{attrs:{outlined:"",disabled:e.loading,label:"Confirm Password",rules:[e.rules.required],type:e.showPassword2?"text":"password","append-icon":e.showPassword2?"mdi-eye ":"mdi-eye-off"},on:{keypress:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.registerNewUser.apply(null,arguments)},"click:append":function(t){e.showPassword2=!e.showPassword2}},model:{value:e.confirmPassword,callback:function(t){e.confirmPassword=t},expression:"confirmPassword"}}),r("div",[r("v-btn",{staticClass:"primary white--text text-capitalize",attrs:{block:"",disabled:e.loading,loading:e.loading,large:""},on:{click:e.registerNewUser}},[r("v-icon",{attrs:{left:""}},[e._v("mdi-account-plus")]),e._v(" Register")],1)],1)],1)],1)],1)],1)],1)}),S=[],M={data:function(){return{errors:[],loading:!1,fullname:"",email:"",password:"",confirmPassword:"",rules:{required:function(e){return!!e||"Required."},min:function(e){return e.length>=8||"Min 8 characters"}},requiredFields:{fullname:"Full Name",email:"Email",password:"Password",confirmPassword:"Confirm Password"},showPassword1:!1,showPassword2:!1}},methods:Object(c["a"])(Object(c["a"])({},Object(d["b"])({register:"users/register",showGlobalLoader:"ui/showGlobalLoader",showToast:"ui/showToast"})),{},{registerNewUser:function(){var e=this;return Object($["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:for(r in console.log({firstname:e.fullname,email:e.email,password:e.password,confirmPassword:e.confirmPassword}),e.requiredFields)e.$data[r]||e.errors.push("".concat(e.requiredFields[r]," is required"));if(e.password===e.confirmPassword){t.next=7;break}return e.errors.push("Passwords don't match"),e.showToast({show:!0,message:"Passwords don't match",sclass:"error",timeout:4e3}),e.clearErrors(),t.abrupt("return");case 7:if(!e.errors.length){t.next=11;break}return e.showToast({show:!0,sclass:"error",message:"Missing required Fields",timeout:4e3}),e.clearErrors(),t.abrupt("return");case 11:return t.prev=11,e.loading=!0,t.next=15,e.register({fullname:e.fullname,email:e.email,password:e.password,confirmPassword:e.confirmPassword});case 15:e.showToast({show:!0,message:"Registration Successful",sclass:"success",timeout:4e3}),e.$refs.form.reset(),e.$emit("registrationSuccess"),t.next=24;break;case 20:t.prev=20,t.t0=t["catch"](11),console.log({error:t.t0}),t.t0.response&&(e.errors.push(t.t0.response.data.message),e.showToast({show:!0,message:t.t0.response.data.message,sclass:"error",timeout:4e3}));case 24:return t.prev=24,e.loading=!1,e.clearErrors(),t.finish(24);case 28:case"end":return t.stop()}}),t,null,[[11,20,24,28]])})))()},clearErrors:function(){var e=this;setTimeout((function(){e.errors=[]}),4e3)}})},E=M,G=Object(f["a"])(E,P,S,!1,null,null,null),F=G.exports,I=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"user-list"},[e.users.length?r("div",[r("v-item-group",{on:{change:e.userSelected},model:{value:e.selectedUser,callback:function(t){e.selectedUser=t},expression:"selectedUser"}},[r("v-container",[r("v-row",e._l(e.filteredUsers,(function(t,o){return r("v-col",{key:o,attrs:{cols:"12"}},[r("v-item",{attrs:{value:t},scopedSlots:e._u([{key:"default",fn:function(o){var s=o.active,a=o.toggle;return[r("v-hover",{scopedSlots:e._u([{key:"default",fn:function(o){var n=o.hover;return[r("v-card",{class:n||s?"elevated":"elevated-light",staticStyle:{transition:"all 0.3s ease"},attrs:{elevation:"0"}},[r("v-card-title",{class:{"primary white--text":s},on:{click:function(e){return e.target!==e.currentTarget?null:a.apply(null,arguments)}}},[e._v(" "+e._s(t.fullname)+" ")]),r("v-slide-y-transition",[r("v-card-text",{directives:[{name:"show",rawName:"v-show",value:s,expression:"active"}],staticClass:"pt-4"},[r("div",{staticClass:"d-flex align-center"},[r("v-text-field",{attrs:{outlined:"",disabled:e.loading,dense:"","hide-details":"",label:"Password",type:e.showPassword?"text":"password","append-icon":e.showPassword?"mdi-eye ":"mdi-eye-off"},on:{keypress:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.loginAsSelectedUser.apply(null,arguments)},"click:append":function(t){e.showPassword=!e.showPassword}},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),r("div",[r("v-btn",{staticClass:"primary text-capitalize mx-2",attrs:{loading:e.loading,disabled:e.loading},on:{click:e.loginAsSelectedUser}},[e._v("Login "),r("v-icon",{attrs:{right:""}},[e._v("mdi-location-enter")])],1)],1)],1)])],1)],1)]}}],null,!0)})]}}],null,!0)})],1)})),1)],1)],1)],1):r("div",{staticClass:"pa-4"},[r("v-alert",{attrs:{prominent:"",type:"info",text:""}},[e._v(" No registered Users. ")])],1)])},N=[],z={props:["filteredUsers"],data:function(){return{showPassword:!1,selectedUser:null,password:"",loading:!1}},computed:Object(c["a"])({},Object(d["c"])({users:"users/users"})),methods:Object(c["a"])(Object(c["a"])({},Object(d["b"])({getAllUsers:"users/getAllUsers",showToast:"ui/showToast",showGlobalLoader:"ui/showGlobalLoader",login:"users/login"})),{},{loginAsSelectedUser:function(){var e=this;return Object($["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(console.log({password:e.password,selectedUser:e.selectedUser}),e.password){t.next=4;break}return e.showToast({show:!0,sclass:"error",message:"Password is required",timeout:3e3}),t.abrupt("return");case 4:return t.prev=4,e.loading=!0,t.next=8,e.login({password:e.password,email:e.selectedUser.email});case 8:r=t.sent,e.showToast({show:!0,sclass:r.success?"success":"error",message:r.message,timeout:3e3}),r.success&&e.$emit("loginSuccess"),t.next=16;break;case 13:t.prev=13,t.t0=t["catch"](4),console.log(t.t0);case 16:return t.prev=16,e.loading=!1,t.finish(16);case 19:case"end":return t.stop()}}),t,null,[[4,13,16,19]])})))()},userSelected:function(e){console.log({e:e}),this.password=""}}),mounted:function(){var e=this;return Object($["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.showGlobalLoader({show:!0,message:"Loading..."}),t.prev=1,t.next=4,e.getAllUsers();case 4:t.next=9;break;case 6:t.prev=6,t.t0=t["catch"](1),console.log(t.t0);case 9:return t.prev=9,e.showGlobalLoader({show:!1,message:""}),t.finish(9);case 12:case"end":return t.stop()}}),t,null,[[1,6,9,12]])})))()}},q=z,D=Object(f["a"])(q,I,N,!1,null,null,null),H=D.exports,B={components:{UserList:H,RegisterForm:F},data:function(){return{filterText:"",tab:0}},computed:Object(c["a"])(Object(c["a"])({},Object(d["c"])({users:"users/users",dialog:"ui/loginModal"})),{},{filteredUsers:function(){var e=this;return this.filterText?this.users.filter((function(t){return t.fullname.toLowerCase().includes(e.filterText.toLowerCase())||t.email.toLowerCase().includes(e.filterText.toLowerCase())})):this.users}}),methods:Object(c["a"])(Object(c["a"])({},Object(d["b"])({getAllUsers:"users/getAllUsers",getUserRecordings:"users/getUserRecordings",showGlobalLoader:"ui/showGlobalLoader",showLoginModal:"ui/showLoginModal"})),{},{loginSuccess:function(){var e=this;return Object($["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.showGlobalLoader({show:!0,message:"Loading..."}),t.next=3,e.getUserRecordings();case 3:e.showGlobalLoader({show:!1,message:""}),e.$emit("loginSuccess"),e.showLoginModal({show:!1});case 6:case"end":return t.stop()}}),t)})))()},registrationSuccessful:function(){var e=this;return Object($["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.showGlobalLoader({show:!0,message:"Loading..."}),t.next=3,e.getAllUsers();case 3:return t.next=5,e.getUserRecordings();case 5:e.showGlobalLoader({show:!1,message:""}),e.$emit("loginSuccess"),e.showLoginModal({show:!1});case 8:case"end":return t.stop()}}),t)})))()},goAdminPage:function(){var e=this;return Object($["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$router.push({name:"pages.admin"});case 2:return t.next=4,e.showLoginModal({show:!1});case 4:case"end":return t.stop()}}),t)})))()}})},J=B,K=Object(f["a"])(J,A,C,!1,null,null,null),W=K.exports,Y=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"sound-recorder"},[r("v-container",{staticClass:"pt-4"},[r("v-row",[r("v-col",{staticClass:"pb-0 pt-4",attrs:{cols:"12"}},[r("div",[r("v-alert",{staticClass:"mb-0",attrs:{prominent:"",type:"info",color:"secondary",text:"",dark:"",dismissible:""}},[e._v(" Click/tap ("),r("v-icon",{attrs:{color:"primary"}},[e._v("mdi-microphone")]),e._v(") to record, ("),r("v-icon",{attrs:{color:"primary"}},[e._v("mdi-stop")]),e._v(") to stop. Once done, select the recorded audio from the list (you can preview in the audio player), and click/tap ("),r("v-icon",{attrs:{color:"primary"}},[e._v("mdi-content-save")]),e._v(") to upload the selected recording, or ("),r("v-icon",{attrs:{color:"primary"}},[e._v("mdi-download-box-outline")]),e._v(" ) to download the selected recording. ")],1)],1)])],1),r("v-row",{attrs:{align:"start"}},[r("v-col",{attrs:{cols:"12",md:"5"}},[r("p",{staticClass:"headline mb-2"},[e._v("New Recording")]),r("v-divider",{staticClass:"mb-4"}),r("div",{staticStyle:{display:"flex","align-items":"start","justify-content":"center"},style:{minHeight:e.$vuetify.breakpoint.mdAndUp?"60vh":""}},[r("div",[r("v-alert",{attrs:{type:"info",text:"",dismissible:""}},[e._v(" P.S: Recording time is limited to 15s ")]),r("audio-recorder",{ref:"recorder",staticClass:"mb-4",attrs:{"upload-url":e.uploadURL,attempts:7,time:5,headers:e.headers,format:e.format,"mic-failed":e.micFailed,"before-recording":e.callback,"pause-recording":e.callback,"after-recording":e.callback,"select-record":e.selectRecord,startUpload:e.beforeUpload,"successful-upload":e.uploadSuccess,"failed-upload":e.uploadFailed}})],1)])],1),r("v-col",{attrs:{cols:"12",md:"7","align-self":"start"}},[r("div",[r("p",{staticClass:"headline mb-2"},[e._v("Uploaded Recordings")]),r("v-divider",{staticClass:"mb-4"}),r("RecordingList",{attrs:{recordings:e.recordings},on:{recordingDeleted:e.recordingDeleted}})],1)])],1)],1)],1)},Q=[],V=(r("99af"),r("ab7a")),X={components:{RecordingList:V["a"]},data:function(){return{uploadURL:"https://lugahaudio.herokuapp.com/recordings",format:"wav",fileName:"",selectedRecord:null}},computed:Object(c["a"])(Object(c["a"])(Object(c["a"])({},Object(d["d"])({authToken:function(e){return e.users.authToken}})),Object(d["c"])({recordings:"users/recordings"})),{},{headers:function(){return{Authorization:"Bearer ".concat(this.authToken)}}}),methods:Object(c["a"])(Object(c["a"])({},Object(d["b"])({showToast:"ui/showToast",showGlobalLoader:"ui/showGlobalLoader",saveRecording:"users/saveRecording",getUserRecordings:"users/getUserRecordings"})),{},{callback:function(e){console.log({data:e})},selectRecord:function(e){this.selectedRecord=e,console.log({e:e})},beforeUpload:function(e){console.log("before Upload",e),console.log({headers:this.headers,newHeaders:this.realAuthToken}),this.showGlobalLoader({show:!0,message:"Uploading"})},uploadRecording:function(){var e=this;return Object($["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log({recording:e.selectedRecord,filename:e.fileName}),r=new FormData,r.append("audio",e.selectedRecord.blob,"".concat(e.fileName,".").concat(e.format)),t.next=5,e.saveRecording(r);case 5:case"end":return t.stop()}}),t)})))()},recordingDeleted:function(){var e=this;return Object($["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.showGlobalLoader({show:!0,message:"Loading..."}),t.next=3,e.getUserRecordings();case 3:e.showGlobalLoader({show:!1});case 4:case"end":return t.stop()}}),t)})))()},uploadSuccess:function(e){var t=this;return Object($["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return console.log("Upload Success",e),t.showToast({show:!0,message:"Uploaded Successfully",sclass:"success",timeout:4e3}),r.next=4,t.getUserRecordings();case 4:t.showGlobalLoader({show:!1});case 5:case"end":return r.stop()}}),r)})))()},uploadFailed:function(e){console.log("Upload Failed",e),this.showGlobalLoader({show:!1}),this.showToast({show:!0,message:"Upload Failed",sclass:"error",timeout:4e3})},micFailed:function(e){console.log({e:e})}}),mounted:function(){console.log({recorder:this.$refs.recorder})}},Z=X,ee=Object(f["a"])(Z,Y,Q,!1,null,null,null),te=ee.exports,re={name:"Home",data:function(){return{componentKey:1}},components:{SoundRecorder:te,LoginModal:W},computed:Object(c["a"])({},Object(d["c"])({loggedInUser:"users/loggedInUser"})),methods:Object(c["a"])({},Object(d["b"])({showLoginModal:"ui/showLoginModal"})),mounted:function(){this.loggedInUser||this.showLoginModal({show:!0})}},oe=re,se=Object(f["a"])(oe,L,T,!1,null,null,null),ae=se.exports;o["default"].use(j["a"]);var ne=[{path:"/",name:"Home",component:ae},{path:"/admin",name:"pages.admin",component:function(){return r.e("about").then(r.bind(null,"3530"))}}],ie=new j["a"]({routes:ne}),ce=ie,le={showToast:function(e,t){var r=t.show,o=t.sclass,s=void 0===o?"":o,a=t.message,n=void 0===a?"":a,i=t.timeout,c=void 0===i?1e3:i;return new Promise((function(t){e.commit("showToast",{show:r,sclass:s,message:n,timeout:c}),t(c)}))},showGlobalLoader:function(e,t){var r=t.show,o=t.color,s=void 0===o?"primary":o,a=t.message,n=void 0===a?"Loading":a;return new Promise((function(t){e.commit("showGlobalLoader",{show:r,color:s,message:n}),t()}))},showLoginModal:function(e,t){var r=t.show;return new Promise((function(t){e.commit("showLoginModal",{show:r}),t()}))}},ue={showToast:function(e,t){for(var r in t)e.toast[r]=t[r];e.toast.icon=t.sclass?e.toast.icons[t.sclass]:""},showGlobalLoader:function(e,t){for(var r in t)e.loader[r]=t[r]},showLoginModal:function(e,t){var r=t.show;e.showLoginModal=r}},de={loader:function(e){return e.loader},toast:function(e){return e.toast},loginModal:function(e){return e.showLoginModal}},pe=function(){return{toast:{sclass:"",message:"",show:!1,timeout:-1,icons:{success:"mdi-check",warning:"mdi-alert",error:"mdi-window-close",info:"mdi-information"},icon:""},loader:{show:!1,color:"primary",message:"Loading - Please stand by"},showLoginModal:!0}},me={namespaced:!0,state:pe,actions:le,mutations:ue,getters:de},fe={apiURL:"https://lugahaudio.herokuapp.com"},ge=fe.apiURL,ve={adminLogin:function(e,t){return Object($["a"])(regeneratorRuntime.mark((function r(){var o,s,n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return o=e.commit,r.prev=1,r.next=4,a.a.post("".concat(ge,"/users/login"),t);case 4:if(s=r.sent,n=s.data,console.log({data:n}),!n.success){r.next=13;break}if("ADMIN"!==n.data.user.role){r.next=12;break}return o("setLoggedInUser",n.data.user),o("setAuthToken",n.data.token),r.abrupt("return",n);case 12:return r.abrupt("return",{success:!1,message:"Unauthorized"});case 13:r.next=19;break;case 15:return r.prev=15,r.t0=r["catch"](1),console.log({error:r.t0}),r.abrupt("return",r.t0.response.data);case 19:case"end":return r.stop()}}),r,null,[[1,15]])})))()},login:function(e,t){return Object($["a"])(regeneratorRuntime.mark((function r(){var o,s,n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return o=e.commit,r.prev=1,r.next=4,a.a.post("".concat(ge,"/users/login"),t);case 4:if(s=r.sent,n=s.data,console.log({data:n}),!n.success){r.next=11;break}return o("setLoggedInUser",n.data.user),o("setAuthToken",n.data.token),r.abrupt("return",n);case 11:r.next=17;break;case 13:return r.prev=13,r.t0=r["catch"](1),console.log({error:r.t0}),r.abrupt("return",r.t0.response.data);case 17:case"end":return r.stop()}}),r,null,[[1,13]])})))()},logout:function(e){var t=e.commit;t("setLoggedInUser",null),t("setAuthToken",null),t("setRecordings",[])},register:function(e,t){return Object($["a"])(regeneratorRuntime.mark((function r(){var o,s,n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return o=e.commit,r.prev=1,r.next=4,a.a.post("".concat(ge,"/users/register"),t);case 4:if(s=r.sent,n=s.data,console.log({data:n}),!n.success){r.next=11;break}return o("setLoggedInUser",n.data.user),o("setAuthToken",n.data.token),r.abrupt("return",n);case 11:r.next=17;break;case 13:throw r.prev=13,r.t0=r["catch"](1),console.log({error:r.t0}),r.t0;case 17:case"end":return r.stop()}}),r,null,[[1,13]])})))()},getAllUsers:function(e){return Object($["a"])(regeneratorRuntime.mark((function t(){var r,o,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,t.prev=1,t.next=4,a.a.get("".concat(ge,"/users"));case 4:if(o=t.sent,s=o.data,console.log({data:s}),!s.success){t.next=10;break}return r("setUsers",s.data),t.abrupt("return",s);case 10:t.next=16;break;case 12:return t.prev=12,t.t0=t["catch"](1),console.log({error:t.t0}),t.abrupt("return",null);case 16:case"end":return t.stop()}}),t,null,[[1,12]])})))()},getUserRecordings:function(e){return Object($["a"])(regeneratorRuntime.mark((function t(){var r,o,s,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,o=e.state,console.log({state:o}),t.prev=2,t.next=5,a.a.get("".concat(ge,"/recordings"),{headers:{Authorization:"Bearer ".concat(o.authToken)}});case 5:if(s=t.sent,n=s.data,console.log({data:n}),!n.success){t.next=11;break}return r("setRecordings",n.data.recordings),t.abrupt("return",n);case 11:t.next=17;break;case 13:return t.prev=13,t.t0=t["catch"](2),console.log({error:t.t0}),t.abrupt("return",null);case 17:case"end":return t.stop()}}),t,null,[[2,13]])})))()},getAllRecordings:function(e){return Object($["a"])(regeneratorRuntime.mark((function t(){var r,o,s,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,o=e.state,t.prev=1,t.next=4,a.a.get("".concat(ge,"/admin/recordings"),{headers:{Authorization:"Bearer ".concat(o.authToken)}});case 4:if(s=t.sent,n=s.data,console.log({data:n}),!n.success){t.next=10;break}return r("setRecordings",n.data.recordings),t.abrupt("return",n);case 10:t.next=16;break;case 12:return t.prev=12,t.t0=t["catch"](1),console.log({error:t.t0}),t.abrupt("return",null);case 16:case"end":return t.stop()}}),t,null,[[1,12]])})))()},saveRecording:function(e,t){return Object($["a"])(regeneratorRuntime.mark((function r(){var o,s,n,i;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return o=e.commit,s=e.state,console.log({commit:o}),r.prev=2,r.next=5,a.a.post("".concat(ge,"/recordings"),t,{headers:{Authorization:"Bearer ".concat(s.authToken)}});case 5:if(n=r.sent,i=n.data,console.log({data:i}),!i.success){r.next=10;break}return r.abrupt("return",i);case 10:r.next=16;break;case 12:return r.prev=12,r.t0=r["catch"](2),console.log({error:r.t0}),r.abrupt("return",null);case 16:case"end":return r.stop()}}),r,null,[[2,12]])})))()},updateRecordTitle:function(e,t){return Object($["a"])(regeneratorRuntime.mark((function r(){var o,s,n,i;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return o=e.commit,s=e.state,console.log({commit:o}),r.prev=2,r.next=5,a.a.put("".concat(ge,"/recordings/").concat(t.recordId),t,{headers:{Authorization:"Bearer ".concat(s.authToken)}});case 5:if(n=r.sent,i=n.data,console.log({data:i}),!i.success){r.next=10;break}return r.abrupt("return",i);case 10:r.next=16;break;case 12:return r.prev=12,r.t0=r["catch"](2),console.log({error:r.t0}),r.abrupt("return",null);case 16:case"end":return r.stop()}}),r,null,[[2,12]])})))()},deleteUserRecording:function(e,t){return Object($["a"])(regeneratorRuntime.mark((function r(){var o,s,n,i;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return o=e.commit,s=e.state,console.log({commit:o}),r.prev=2,r.next=5,a.a.delete("".concat(ge,"/recordings/").concat(t.recordId),{headers:{Authorization:"Bearer ".concat(s.authToken)}});case 5:if(n=r.sent,i=n.data,console.log({data:i}),!i.success){r.next=10;break}return r.abrupt("return",i);case 10:r.next=16;break;case 12:return r.prev=12,r.t0=r["catch"](2),console.log({error:r.t0}),r.abrupt("return",null);case 16:case"end":return r.stop()}}),r,null,[[2,12]])})))()}},he={setUsers:function(e,t){e.users=t},setLoggedInUser:function(e,t){e.loggedInUser=t},setAuthToken:function(e,t){e.authToken=t},setRecordings:function(e,t){e.recordings=t},setSelectedUser:function(e,t){e.selectedUser=t}},be={users:function(e){return e.users.filter((function(e){return"USER"===e.role}))},loggedInUser:function(e){return e.loggedInUser},authToken:function(e){return e.authToken},recordings:function(e){return e.recordings},isAdminUser:function(e){return!!e.loggedInUser&&"ADMIN"===e.loggedInUser.role}},we=function(){return{users:[],loggedInUser:null,authToken:null,recordings:[],selectedUser:null}},ke={namespaced:!0,state:we,actions:ve,mutations:he,getters:be},xe={ui:me,users:ke};o["default"].use(d["a"]);var ye=new d["a"].Store({state:{},mutations:{},actions:{},modules:Object(c["a"])({},xe)}),Ue=r("ce5b"),_e=r.n(Ue);r("bf40");o["default"].use(_e.a);var Re=new _e.a({theme:{themes:{light:{primary:"#982b88",secondary:"#2b2b62",accent:"#82B1FF",error:"#FF5252",info:"#2196F3",success:"#4CAF50",warning:"#FFC107"}}}}),Oe=r("c115"),je=r.n(Oe);r("d5e8"),r("5363"),r("034b");o["default"].prototype.$http=a.a,o["default"].use(je.a),o["default"].config.productionTip=!1,new o["default"]({router:ce,store:ye,vuetify:Re,render:function(e){return e(O)}}).$mount("#app")},ab7a:function(e,t,r){"use strict";var o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"recording-list"},[r("v-progress-linear",{attrs:{indeterminate:"",active:e.loading}}),e.recordings.length?r("div",{staticClass:"mt-n4"},[r("v-slide-y-transition",{attrs:{group:""}},e._l(e.recordings,(function(t,o){return r("div",{key:o},[r("v-hover",{scopedSlots:e._u([{key:"default",fn:function(o){var s=o.hover;return[r("v-card",{staticClass:"px-4 py-3 my-4 d-flex align-center",class:s?"elevated":"elevated-light",staticStyle:{transition:"all 0.3s ease"},attrs:{rounded:"lg",elevation:"0"}},[r("v-row",{attrs:{align:"center"}},[r("v-col",{attrs:{cols:"12",md:"3"}},[r("div",{staticClass:"d-flex align-center"},[r("v-slide-x-transition",[r("div",{directives:[{name:"show",rawName:"v-show",value:s||!e.$vuetify.breakpoint.mdAndUp,expression:"hover || !$vuetify.breakpoint.mdAndUp"}]},[r("EditRecordTitleModal",{attrs:{record:t},on:{titleUpdated:e.titleUpdated}})],1)]),r("p",{staticClass:"subtitle-1 mb-0"},[e._v(e._s(t.title))])],1)]),r("v-col",{attrs:{cols:"12",md:"7"}},[r("audio-player",{attrs:{src:"https://lugahaudio.herokuapp.com/recordings/"+t.key}})],1),r("v-col",{attrs:{cols:"12",md:"2"}},[r("div",{staticClass:"d-flex justify-center"},[r("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(o){var s=o.on,a=o.attrs;return[r("a",e._g(e._b({attrs:{href:t.url,target:"_blank",download:t.title}},"a",a,!1),s),[r("v-btn",{staticClass:"mx-auto",attrs:{color:"primary",large:"",icon:e.$vuetify.breakpoint.mdAndUp}},[r("v-icon",{attrs:{left:!e.$vuetify.breakpoint.mdAndUp}},[e._v("mdi-download")]),e.$vuetify.breakpoint.mdAndUp?e._e():r("span",[e._v("Download")])],1)],1)]}}],null,!0)},[r("span",[e._v("Download")])]),r("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(o){var s=o.on,a=o.attrs;return[r("v-btn",e._g(e._b({staticClass:"mx-auto",attrs:{color:"error",large:"",icon:e.$vuetify.breakpoint.mdAndUp,disabled:e.loading,loading:e.loading},on:{click:function(r){return e.deleteRecording(t)}}},"v-btn",a,!1),s),[r("v-icon",{attrs:{left:!e.$vuetify.breakpoint.mdAndUp}},[e._v("mdi-close-box")]),e.$vuetify.breakpoint.mdAndUp?e._e():r("span",[e._v("Delete")])],1)]}}],null,!0)},[r("span",[e._v("Delete")])])],1)])],1)],1)]}}],null,!0)})],1)})),0)],1):r("div",[r("v-alert",{attrs:{type:"info",text:""}},[e._v(" You don't have any uploaded recordings. ")])],1)],1)},s=[],a=r("1da1"),n=r("5530"),i=(r("96cf"),function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"edit-record-title-modal"},[r("v-dialog",{attrs:{persistent:"",width:"500"},scopedSlots:e._u([{key:"activator",fn:function(t){var o=t.on,s=t.attrs;return[r("v-btn",e._g(e._b({attrs:{icon:""}},"v-btn",s,!1),o),[r("v-icon",[e._v("mdi-pencil")])],1)]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[r("v-card",[r("v-card-title",{staticClass:"headline primary white--text"},[e._v(" Edit Record ")]),r("v-card-text",[r("v-text-field",{staticClass:"mt-4",attrs:{outlined:"",disabled:e.loading,clearable:"","hide-details":"",autofocus:"",autocomplete:"off",label:"Title",type:"text","prepend-inner-icon":"mdi-magnify"},on:{keypress:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.updateTitle.apply(null,arguments)}},model:{value:e.title,callback:function(t){e.title=t},expression:"title"}})],1),r("v-divider"),r("v-card-actions",[r("v-spacer"),r("v-btn",{attrs:{disabled:e.loading,color:"primary",text:""},on:{click:function(t){e.dialog=!1}}},[e._v(" I accept ")]),r("v-btn",{staticClass:"primary text-capitalize",attrs:{loading:e.loading,disabled:e.loading},on:{click:e.updateTitle}},[r("v-icon",{attrs:{right:""}},[e._v("mdi-content-save")]),e._v(" Save ")],1)],1)],1)],1)],1)}),c=[],l=r("2f62"),u={props:["record"],data:function(){return{dialog:!1,loading:!1,title:""}},watch:{dialog:function(e){e&&(this.title=this.record.title)}},methods:Object(n["a"])(Object(n["a"])({},Object(l["b"])({updateRecordTitle:"users/updateRecordTitle",showToast:"ui/showToast"})),{},{updateTitle:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.updateRecordTitle({recordId:e.record.id,title:e.title});case 3:e.showToast({show:!0,message:"Record title updated successfully",sclass:"success",timeout:3e3}),e.$emit("titleUpdated"),e.dialog=!1,t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),console.error(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))()}}),mounted:function(){this.title=this.record.title}},d=u,p=r("2877"),m=Object(p["a"])(d,i,c,!1,null,null,null),f=m.exports,g={components:{EditRecordTitleModal:f},props:["recordings"],data:function(){return{loading:!1}},methods:Object(n["a"])(Object(n["a"])({},Object(l["b"])({getUserRecordings:"users/getUserRecordings",deleteUserRecording:"users/deleteUserRecording",showToast:"ui/showToast"})),{},{titleUpdated:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,t.next=3,e.getUserRecordings();case 3:e.loading=!1;case 4:case"end":return t.stop()}}),t)})))()},deleteRecording:function(e){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return t.loading=!0,r.prev=1,r.next=4,t.deleteUserRecording({recordId:e.id});case 4:t.showToast({show:!0,message:"Record deleted successfully",sclass:"success",timeout:3e3}),t.$emit("recordingDeleted"),r.next=11;break;case 8:r.prev=8,r.t0=r["catch"](1),console.log({error:r.t0});case 11:return r.prev=11,t.loading=!1,r.finish(11);case 14:case"end":return r.stop()}}),r,null,[[1,8,11,14]])})))()}})},v=g,h=Object(p["a"])(v,o,s,!1,null,null,null);t["a"]=h.exports}});
//# sourceMappingURL=app.6312c9f4.js.map